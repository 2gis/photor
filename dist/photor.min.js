!function(a){function b(a,c){var d=this instanceof b?this:g(b.prototype);return d._init(a,c),d}function c(a){"undefined"!=typeof console&&(console.error?console.error(a):console.log("Error: "+a))}function d(a){return a&&(a._uid||(a._uid=++z))}function e(b,c,d,e,f){if(e=e!==a?e:!1,f=f!==a?f:0,1==c){if(0>b){if(b+=d,0>b)return f}else if(b>=d&&(b-=d,b>=d))return f;return b}if(c>1){if(c>=d)return f;if(e){if(0>b)return d-c;if(b>d-c)return 0}else{if(b>d-c)return d-c;if(0>b)return f}return b}}function f(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/%(\d+)/g,function(a,c){return b[Number(c)-1]})}function g(a){var b=A(a);if(arguments.length>1)for(var c=1,d=arguments.length;d>c;c++){var e=arguments[c];e===Object(e)&&h(b,e)}return b}function h(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function i(a){var b=document.createElement("div");return b.innerHTML=a,1==b.childNodes.length&&1==b.firstChild.nodeType?b.firstChild:b}function j(a,b,c){if(c)for(;a=a.parentNode;){if(a==b)return!0;if(a==c)break}else for(;a=a.parentNode;)if(a==b)return!0;return!1}function k(a,b,c){return a==b||j(a,b,c)}function l(a){for(;a&&a.lastChild;)a.removeChild(a.lastChild);return a}function m(a,b,c){var d=new Image;d.onload=d.onerror=function(a){d.onload=d.onerror=null,b.call(c,"load"==a.type,d)},d.src=a}function n(){this.returnValue=!1}function o(){this.cancelBubble=!0}function p(b){if(b.fixed)return b;var c=g(b);if(c.origEvent=b,b.target||(c.target=b.srcElement||document),b.pageX===a&&b.clientX!==a){var d=document.documentElement,e=document.body;c.pageX=b.clientX+(d.scrollLeft||e&&e.scrollLeft||0)-d.clientLeft,c.pageY=b.clientY+(d.scrollTop||e&&e.scrollTop||0)-d.clientTop}return b.which===a&&b.button!==a&&(1&b.button?c.which=1:4&b.button?c.which=2:2&b.button&&(c.which=3)),b.preventDefault||(c.preventDefault=n),b.stopPropagation||(c.stopPropagation=o),c.fixed=!0,c}if("undefined"!=typeof window){var q=document.createElement("div"),r=q.style,s={};!function(){for(var a=["transform","transition","transitionDuration","perspective"],b=["webkit","Moz","ms","O"],c=b.length,d=0,e=a.length;e>d;d++){var f=a[d];if(f in r)s[f]=f;else{s[f]=!1;for(var g=f.charAt(0).toUpperCase()+f.slice(1),h=0;c>h;h++){var i=b[d]+g;if(i in r){s[f]=i;break}}}}}();var t=s.transform,u=s.transitionDuration,v=!!s.perspective,w=(t&&{transform:"transform",webkitTransform:"-webkit-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform",OTransform:"-o-transform"}[t],function(a){return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}(navigator.userAgent.toLowerCase())),x="photor__";b.prototype={constructor:b,_events:null,_params:null,slides:null,current:a,frozen:!1,_thumbsType:a,_thumbsDraggable:a,_touch:null,_drag:null,_mouseOverBControl:!1,_mouseOverBThumbs:!1,_autoplayTimerId:a,element:null,bControl:null,btnPrev:null,btnNext:null,bThumbs:null,bViewport:null,bViewportLayer:null,bThumbsLayer:null,bThumbFrame:null,blSlides:null,blThumbs:null,_bViewportLayerOffsetX:0,_bThumbsLayerOffsetX:0,_bViewportWidth:a,_bViewportLayerWidth:a,_bViewportHeight:a,_bThumbsWidth:a,_bThumbsHeight:a,_bThumbsLayerWidth:a,_init:function(a,b){if(a._photor)throw new TypeError("Photor is already initialized for this element");a._photor=this,this._events={};var c=b&&b.photorPrefix?b.photorPrefix:x,d=this._params=h({viewport:c+"viewport",layer:c+"viewportLayer",slide:c+"viewportLayerSlide",slideImg:c+"viewportLayerSlideImg",slideCaption:c+"viewportLayerSlideCaption",control:c+"viewportControl",next:c+"viewportControlNext",prev:c+"viewportControlPrev",thumbs:c+"thumbs",thumbsLayer:c+"thumbsLayer",thumb:c+"thumbsLayerItem",thumbImg:c+"thumbsLayerItemImg",thumbFrame:c+"thumbsLayerFrame",_single:"_single",_dragging:"_dragging",_animated:"_animated",_freeze:"_freeze",_disabled:"_disabled",_current:"_current",_loading:"_loading",_error:"_error",_html:"_html",_caption:"_caption",_hidden:"_hidden",algorithm:"contain",_auto:"_auto",_center:"_center",_portrait:"_portrait",_landscape:"_landscape",_draggable:"_draggable",modifierPrefix:"_",itemPrefix:"_item",ieClassPrefix:"_ie",current:0,autoplay:!1,loop:!1,duration:300,showThumbs:"thumbs",keyboard:!0,slidesOnScreen:1},b);d.slidesOnScreen>1&&(d.showThumbs=!1),this.element=a,this.bControl=a.querySelector("."+d.control),this.btnPrev=a.querySelector("."+d.prev),this.btnNext=a.querySelector("."+d.next),this.bThumbs=a.querySelector("."+d.thumbs),this.bViewport=a.querySelector("."+d.viewport),this.bViewportLayer=a.querySelector("."+d.layer),this.bThumbsLayer=a.querySelector("."+d.thumbsLayer),this.bThumbFrame=document.createElement("div"),w&&D(a,d.ieClassPrefix+w),D(this.bThumbFrame,d.thumbFrame),this._updateDims();var e=d.data;this.setSlides(e&&e.length?e:this.bViewportLayer),this._bindListeners(),this._bindEvents(),d.autoplay&&(this._autoplayTimerId=setTimeout(this._onAutoplayTimerTick,d.autoplay))},_updateDims:function(){var a=this.bViewport,b=this.bViewportLayer,c=this.bThumbs;this._bViewportWidth=window.getComputedStyle?parseFloat(window.getComputedStyle(a).width,10):a.offsetWidth,this._bViewportLayerWidth=window.getComputedStyle?parseFloat(window.getComputedStyle(b).width,10):a.offsetWidth,this._bViewportHeight=a.offsetHeight,this._bThumbsWidth=c&&c.offsetWidth,this._bThumbsHeight=c&&c.offsetHeight},setSlides:function(a){var b=this._params,c=this.element;this._thumbsType=b.showThumbs,this._thumbsDraggable=!1,H(this.bThumbsLayer,0),H(this.bViewportLayer,0),this._setSlides(a);var d=this.slides.length,f=this.current=e(b.current,b.slidesOnScreen,d,b.loop);1==d?D(c,b._single):E(c,b._single),E(c,b.modifierPrefix+"thumbs"),E(c,b.modifierPrefix+"dots"),this._thumbsType&&D(c,b.modifierPrefix+this._thumbsType),this._updateDOM(),D(this.blSlides[f],b._current),D(this.blThumbs[f],b._current),this._prepareActualSlides(function(){"thumbs"==this._thumbsType?this._loadThumbs(function(){this._updateThumbsDims(),this._moveToCurrentItems(!0)}):this._moveToCurrentItems(!0)})},_setSlides:function(b){var c,d=this.slides=[],e={url:a,thumb:a,html:a,element:null,caption:"",width:a,height:a,thumbDims:null,loaded:a,classes:""},f=!1,h=0;if(B(b))for(c=b.length;c>h;h++){var j=b[h];1==j.nodeType&&(j={element:j}),(j.html||j.element)&&(f=!0),j=g(e,{loaded:j.html||j.element},j),j.html&&!j.element&&(j.element=i(j.html)),d.push(j)}else{var k=b.childNodes;for(c=k.length;c>h;h++){var l=k[h];1==l.nodeType&&("IMG"==l.nodeName?d.push(g(e,{url:l.src,thumb:l.getAttribute("data-thumb")||l.src,caption:l.alt,loaded:!1,classes:l.className})):(f=!0,d.push(g(e,{element:l,loaded:!0}))))}}if(!d.length)throw new RangeError("Requires more slides");f&&"thumbs"==this._thumbsType&&(this._thumbsType="dots")},_updateDOM:function(){var a=this._params,b=this.slides,c=this.bViewportLayer,d=this.bThumbsLayer,e=this.blSlides=[],g=this.blThumbs=[];l(c),l(d);for(var h=document.createDocumentFragment(),j=document.createDocumentFragment(),k=0,m=b.length;m>k;k++){var n=b[k],o=n.element,p=f('<div data-index="%1" class="%2 %3 %4 %5">%6%7</div>',k,a.slide,a.itemPrefix+k,o?a._html:a._loading,n.caption?a._caption:"",o?"":f('<img src="" class="%1 %2" alt="%3">',a.slideImg,n.classes,n.caption),n.caption?f('<div class="%1">%2</div>',a.slideCaption,n.caption):""),q=i(p);o&&q.insertBefore(o,q.firstChild),q.style.left=100*k+"%",e.push(q),h.appendChild(q);var r=f('<span data-rel="%1" class="%2 %3 %4">%5</span>',k,a.thumb,a.itemPrefix+k,n.classes,"thumbs"==this._thumbsType&&(n.thumb||n.url)?f('<img src="%1" data-rel="%2" class="%3">',n.thumb||n.url,k,a.thumbImg):""),s=i(r);g.push(s),j.appendChild(s)}c.appendChild(h),d&&this._thumbsType&&(d.appendChild(j),d&&"thumbs"==this._thumbsType&&d.appendChild(this.bThumbFrame))},_prepareActualSlides:function(a){for(var b=this._params._hidden,c=this.blSlides,d=Math.max(0,this.current-1),e=Math.min(c.length-1,this.current+1),f=d;e>=f;f++)E(c[f],b);this._loadActualSlides(a)},_loadActualSlides:function(a){function b(b,e,g){i++,m(g,function(h,j){if(i--,h){var k=f[b],l=k.firstChild;e.width=j.width,e.height=j.height,e.loaded=!0,E(k,d),this._paintSlide(b),l.src=g}else c("Image wasn't loaded: "+g);!i&&a&&this.element._photor&&a.call(this)},this)}for(var d=this._params._loading,e=this.slides,f=this.blSlides,g=Math.max(0,this.current-1),h=Math.min(e.length-1,this.current+1),i=0,j=g;h>=j;j++){var k=e[j];k.loaded||b.call(this,j,k,k.url)}!i&&a&&a.call(this)},_loadThumbs:function(a){for(var b=this.slides,d=0,e=0,f=b.length;f>e;e++){var g=b[e],h=g.thumb||g.url;h&&(d++,m(h,function(b){d--,b||c("Image wasn't loaded: "+h),!d&&a&&a.call(this)},this))}!d&&a&&a.call(this)},_paintSlide:function(a){var b=this._params,c=this.slides[a],d=c.width,e=c.height,f=this.blSlides[a],g=this._bViewportWidth,h=this._bViewportHeight;g>d&&h>e?(c.algorithm="center",E(f,b._auto),D(f,b._center)):(c.algorithm="auto",E(f,b._center),D(f,b._auto));var i=d/e,j=g/h;i>=j?(c.orientation="landscape",E(f,b._portrait),D(f,b._landscape)):(c.orientation="portrait",E(f,b._landscape),D(f,b._portrait));var k=f.firstChild.style;if("auto"==c.algorithm||"cover"==b.algorithm)if(c.orientation==("cover"==b.algorithm?"portrait":"landscape")){var l=Math.round(e*(g/d));k.top=Math.round((h-l)/2)+"px",k.left="0",k.width=g+"px",k.height=l+"px"}else{var m=Math.round(d*(h/e));k.top="0",k.left=Math.round((g-m)/2)+"px",k.width=m+"px",k.height=h+"px"}else k.top=Math.round((h-e)/2)+"px",k.left=Math.round((g-d)/2)+"px"},_updateThumbsDims:function(){if("thumbs"==this._thumbsType){for(var a=this.slides,b=this.blThumbs,c=b.length;c;){var d=b[--c];a[c].thumbDims={top:d.offsetTop,left:d.offsetLeft,width:d.offsetWidth,height:d.offsetHeight}}this._bThumbsLayerWidth=this.bThumbsLayer&&this.bThumbsLayer.offsetWidth,this._thumbsDraggable=this._bThumbsWidth<this._bThumbsLayerWidth}},_moveToCurrentItems:function(a){this._moveToCurrentSlide(a),this._moveToCurrentThumb(a)},_moveToCurrentSlide:function(a){var b;if(b=this._params.slidesOnScreen>1?-1*this._bViewportLayerWidth*this.current:-1*this._bViewportWidth*this.current,this._bViewportLayerOffsetX==b)return void this._transitionCallback();if(D(this.element,this._params._animated),this._bViewportLayerOffsetX=b,u){var c=a?"0ms":this._params.duration+"ms";this.bViewportLayer.style[u]=c}if(window.getComputedStyle){var d=window.getComputedStyle(this.bViewportLayer,null),e=parseFloat(d[u]);e||this._transitionCallback()}else this._transitionCallback();H(this.bViewportLayer,b)},_moveToCurrentThumb:function(a){if("thumbs"==this._thumbsType){var b=this.slides[this.current].thumbDims,c=this.bThumbsLayer,d=this.bThumbFrame;if(this._computeThumbsOffsetX(),u){var e=a?"0ms":this._params.duration+"ms";c&&c.style&&(c.style[u]=e),d.style[u]=e}H(c,this._bThumbsLayerOffsetX),I(d,b.left,b.top),d.style.width=b.width+"px",d.style.height=b.height+"px"}},_computeThumbsOffsetX:function(){var a,b=this.slides[this.current].thumbDims;if(this._thumbsDraggable)if(a=(this._bThumbsWidth-b.width)/2-b.left,a>0)a=0;else{var c=this._bThumbsWidth-this._bThumbsLayerWidth;c>a&&(a=c)}else a=0;this._bThumbsLayerOffsetX=a},_bindListeners:function(){y(this,["_onBViewportTouchStart","_onBViewportMouseDown","_onBThumbsTouchStart","_onBThumbsMouseDown","_onDocumentTouchMove","_onDocumentTouchEnd","_onDocumentTouchCancel","_onDocumentMouseMove","_onDocumentMouseUp","_onBViewportLayerTransitionEnd","_onWindowResize","_onBViewportMouseEnter","_onBViewportMouseLeave","_onBThumbsMouseEnter","_onBThumbsMouseLeave","_onDocumentKeydown","_onAutoplayTimerTick"])},_bindEvents:function(){var a=this.bViewport,b=this.bThumbs;this._bindEvent(a,"touchstart",this._onBViewportTouchStart),this._bindEvent(a,"mousedown",this._onBViewportMouseDown),this._bindEvent(a,"dragstart",this._handleDragstart),this._bindEvent(b,"touchstart",this._onBThumbsTouchStart),this._bindEvent(b,"mousedown",this._onBThumbsMouseDown),this._bindEvent(b,"dragstart",this._handleDragstart),this._bindTransitionEnd(this.bViewportLayer,this._onBViewportLayerTransitionEnd),this._bindEvent(window,"resize",this._onWindowResize),this._bindEvent(a,"mouseenter",this._onBViewportMouseEnter),this._bindEvent(a,"mouseleave",this._onBViewportMouseLeave),this._bindEvent(b,"mouseenter",this._onBThumbsMouseEnter),this._bindEvent(b,"mouseleave",this._onBThumbsMouseLeave),this._params.keyboard&&this._bindEvent(document,"keydown",this._onDocumentKeydown)},_onBViewportTouchStart:function(a){this._handleTouchStart(a,this.bViewport,!0)},_onBViewportMouseDown:function(a){1==a.which&&this._handleTouchStart(a,this.bViewport,!1)},_onBThumbsTouchStart:function(a){this._handleTouchStart(a,this.bThumbs,!0)},_onBThumbsMouseDown:function(a){1==a.which&&this._handleTouchStart(a,this.bThumbs,!1)},_handleTouchStart:function(a,b,c){if(!this.frozen&&!this.touch){var d=c?a.touches[0]:a;this._touch={start:{clientX:d.clientX,clientY:d.clientY,timeStamp:a.timeStamp,element:b}},this._observeTouch(c)}},_handleDragstart:function(a){return a.preventDefault&&a.preventDefault(),!1},_observeTouch:function(a){a?(this._bindEvent(document,"touchmove",this._onDocumentTouchMove),this._bindEvent(document,"touchend",this._onDocumentTouchEnd),this._bindEvent(document,"touchcancel",this._onDocumentTouchCancel)):(this._bindEvent(document,"mousemove",this._onDocumentMouseMove),this._bindEvent(document,"mouseup",this._onDocumentMouseUp))},_stopTouchObserving:function(a){a?(this._unbindEvent(document,"touchmove",this._onDocumentTouchMove),this._unbindEvent(document,"touchend",this._onDocumentTouchEnd),this._unbindEvent(document,"touchcancel",this._onDocumentTouchCancel)):(this._unbindEvent(document,"mousemove",this._onDocumentMouseMove),this._unbindEvent(document,"mouseup",this._onDocumentMouseUp))},_onDocumentTouchMove:function(a){this._handleTouchMove(a,!0)},_onDocumentTouchEnd:function(a){this._handleTouchEnd(a,!0)},_onDocumentTouchCancel:function(a){this._completeTouch(a,!0,"touchCancel")},_onDocumentMouseMove:function(a){this._handleTouchMove(a,!1)},_onDocumentMouseUp:function(a){this._handleTouchEnd(a,!1)},_onBViewportLayerTransitionEnd:function(a){var b=a.propertyName;("transform"==b.slice(-1*"transform".length)||"left"==b)&&this._transitionCallback()},_onWindowResize:function(){this.update()},_onBViewportMouseEnter:function(){this._mouseOverBViewport=!0,this._params.autoplay&&clearTimeout(this._autoplayTimerId)},_onBViewportMouseLeave:function(){this._mouseOverBViewport=!1,this._params.autoplay&&(this._autoplayTimerId=setTimeout(this._onAutoplayTimerTick,this._params.autoplay))},_onBThumbsMouseEnter:function(){this._mouseOverBThumbs=!0},_onBThumbsMouseLeave:function(){this._mouseOverBThumbs=!1},_handleTouchMove:function(b,c){var d=this._touch;if(d){var e=d.start,f=d.clientX===a?e:d;d.prev={clientX:f.clientX,clientY:f.clientY,timeStamp:f.timeStamp};var g=c?b.touches[0]:b;if(d.clientX=g.clientX,d.clientY=g.clientY,d.shiftX=d.clientX-e.clientX,d.shiftY=d.clientY-e.clientY,d.timeStamp=b.timeStamp,c&&b.touches.length>1)return void this._completeTouch(b,!0,"multitouch");var h,i=this._drag,j=this.bViewportLayer,k=this.bThumbsLayer;if(i)h=i.targetLayer;else{if(c&&Math.abs(d.shiftX)<Math.abs(d.shiftY))return void this._completeTouch(b,!0,"scroll");h=e.element==this.bViewport?j:k,i=this._drag={start:{targetLayerOffset:G(h)},targetLayer:h}}b.preventDefault();var l=!1;if(h==j?t&&(D(this.element,this._params._dragging),l=!0):this._thumbsDraggable&&(l=!0),l){var m=i.start.targetLayerOffset+d.shiftX;if(h==k||!this._params.loop)if(m>0)m/=3;else if(0>m){var n;n=h==j?-1*this._bViewportWidth*(this.slides.length-1):this._bThumbsWidth-this._bThumbsLayerWidth,n>m&&(m=n+(m-n)/3)}h==j?this._bViewportLayerOffsetX=m:this._bThumbsLayerOffsetX=m,u&&(h.style[u]="0s"),H(h,m)}}},_handleTouchEnd:function(a,b){this._completeTouch(a,b,"touchEnd")},_completeTouch:function(a,b,c){this._stopTouchObserving(b);var d=this._params,e=this._touch,f=e.start,g=e.end={},h=this.bViewport,i=b?a.touches[0]||e.prev||f:a;g.clientX=i.clientX,g.clientY=i.clientY,g.shiftX=g.clientX-f.clientX,g.shiftY=g.clientY-f.clientY,g.timeStamp=a.timeStamp,this._drag?f.element==h?(t&&E(this.element,d._dragging),"touchEnd"==c?this._completeSlidesDrag():this._moveToCurrentSlide()):Math.abs(g.shiftX)>5||Math.abs(g.shiftY)>5?this._completeThumbsDrag():this._handleThumbsTap(a):"touchEnd"==c&&(f.element==h?k(a.target,this.btnPrev,h)?(a.preventDefault(),this.prev(d.loop)):k(a.target,this.btnNext,h)&&(a.preventDefault(),this.next(d.loop)):this._handleThumbsTap(a)),this._touch=null,this._drag=null},_completeSlidesDrag:function(){var a=this._touch,b=a.start,c=a.end,d=c.timeStamp-b.timeStamp,e=Math.abs(c.shiftX),f=Math.abs(c.shiftY);if(e>=f&&(250>d||e>=this._bViewportLayerWidth/5)){var g,h=Math.max(Math.round(e/this._bViewportLayerWidth),1);if(g=this._params.loop?this.current+(c.shiftX>0?-h:h):c.shiftX>0?Math.max(0,this.current-h):Math.min(this.current+h,this.slides.length-1),this.go(g))return}this._moveToCurrentSlide()},_completeThumbsDrag:function(){if(this._thumbsDraggable){var a=this._touch,b=a.prev,c=a.end,d=c.clientX-b.clientX,e=0>d?-1:1,f=Math.abs(d/(c.timeStamp-b.timeStamp)),g=e*Math.pow(10*f,3)+this._bThumbsLayerOffsetX;if(g>0)g=0;else{var h=this._bThumbsWidth-this._bThumbsLayerWidth;h>g&&(g=h)}this._bThumbsLayerOffsetX=g,u&&(this.bThumbsLayer.style[u]=this._params.duration+"ms"),H(this.bThumbsLayer,g)}},_handleThumbsTap:function(a){for(var b=a.target;b!=this.bThumbs;){if(b.hasAttribute("data-rel")){a.preventDefault(),this.go(Number(b.getAttribute("data-rel")));break}if(!(b=b.parentNode))break}},_onDocumentKeydown:function(a){if(document.activeElement==document.body&&!a.target.attributes.contenteditable)switch(a.which||a.keyCode){case 32:case 39:this.next(this._params.loop);break;case 37:this.prev(this._params.loop)}},_onAutoplayTimerTick:function(){this.go(this.current+1==this.slides.length?0:this.current+1)},update:function(){this._updateDims(),this._updateThumbsDims();for(var a=this.slides,b=a.length;b;)!a[--b].element&&a[b].loaded&&this._paintSlide(b);this._moveToCurrentItems(!0)},go:function(a){if(this.frozen)return!1;var b=this._params;b.autoplay&&!this._mouseOverBViewport&&(clearTimeout(this._autoplayTimerId),this._autoplayTimerId=setTimeout(this._onAutoplayTimerTick,b.autoplay));var c=this.slides.length,d=this.current;if(a=e(a,b.slidesOnScreen,c,b.loop,!1),a==d||a===!1)return!1;var f=b._current;return E(this.blSlides[d],f),E(this.blThumbs[d],f),d=this.current=a,D(this.blSlides[d],f),D(this.blThumbs[d],f),this._prepareActualSlides(),this._moveToCurrentItems(),!0},canPrev:function(){return this.current>0},canNext:function(){return this.current<this.slides.length-1},prev:function(a){if(this.frozen)return!1;var b=this.current-1;if(!(0>b)||a)return this.go(b)},next:function(a){if(this.frozen)return!1;var b=this.current+1;if(b!=this.slides.length||a)return this.go(b)},freeze:function(){this.frozen=!0},unfreeze:function(){this.frozen=!1},_bindEvent:function(a,b,c){if(a){var e=[d(a),b,d(c)].join("-");if(!this._events.hasOwnProperty(e))if(a.addEventListener)a.addEventListener(b,c,!1),this._events[e]={target:a,type:b,listener:c};else{var f=function(b){c.call(a,p(b||window.event))};f._inner=c,a.attachEvent("on"+b,f),this._events[e]={target:a,type:b,listener:f}}}},_bindTransitionEnd:function(a,b){for(var c=["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd"],d=0,e=c.length;e>d;d++)this._bindEvent(a,c[d],b)},_bindDragstart:function(a,b,c){if(a)for(var d=0,e=a.length;e>d;d++)this._bindEvent(a[d],b,c)},_unbindEvent:function(a,b,c){var e=[d(a),b,d(c)].join("-");this._events.hasOwnProperty(e)&&(a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,this._events[e].listener),delete this._events[e])},_transitionCallback:function(){var a=this._params,b=a._hidden,c=this.blSlides;E(this.element,a._animated);for(var d=Math.max(0,this.current-1),e=Math.min(c.length-1,this.current+1),f=0,g=c.length;g>f;f++)(d>f||f>e)&&D(c[f],b);a.onShow&&a.onShow.call(this)},destroy:function(){clearTimeout(this._autoplayTimerId);var a=this._events;for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];c.target.removeEventListener?c.target.removeEventListener(c.type,c.listener,!1):c.target.detachEvent("on"+c.type,c.listener),delete a[b]}this.element._photor=null}};var y,z=0,A=Object.create||function(a){function b(){}return b.prototype=a,new b},B=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)};y=Function.prototype.bind?function(a,b){for(var c=0,d=b.length;d>c;c++)a[b[c]]=a[b[c]].bind(a)}:function(a,b){for(var c=0,d=b.length;d>c;c++)!function(a,b){var c=a[b];a[b]=function(){return c.apply(a,arguments)}}(a,b[c])};var C,D,E;if(q.classList)C=function(a,b){return a.classList.contains(b)},D=function(a,b){a.classList.add(b)},E=function(a,b){a.classList.remove(b)};else{var F=/\S+/g;C=function(a,b){return-1!=(a.className.match(F)||[]).indexOf(b)},D=function(a,b){var c=a.className.match(F)||[];-1==c.indexOf(b)&&(c.push(b),a.className=c.join(" "))},E=function(a,b){var c=a.className.match(F)||[],d=c.indexOf(b);-1!=d&&(c.splice(d,1),a.className=c.join(" "))}}var G,H,I;if(t){var J=/\-?[0-9\.]+/g;G=function(a){var b=window.getComputedStyle(a,null)[t].match(J);return b?parseFloat(b[b.length>6?13:4],10):0},H=function(b,c,d){d===a&&(d="px"),b&&b.style&&(b.style[t]="translate("+c+d+", 0)"+(v?" translateZ(0)":""))},I=function(b,c,d,e){e===a&&(e="px"),b.style[t]="translate("+c+e+", "+d+e+")"+(v?" translateZ(0)":"")}}else G=function(a){var b=window.getComputedStyle?window.getComputedStyle(a,null):a.currentStyle;return parseFloat(b.left,10)},H=function(b,c,d){d===a&&(d="px"),b.style.left=c+d},I=function(b,c,d,e){e===a&&(e="px"),b.style.top=d+e,b.style.left=c+e};q=null,r=null,"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports=b:exports.Photor=b:window.Photor=b,"function"==typeof jQuery&&(jQuery.fn.photor=function(c,d){if("string"!=typeof c&&(d=c,c=a),c){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){this._photor&&this._photor[c].apply(this._photor,e)})}return this.each(function(){b(this,d)})})}}();